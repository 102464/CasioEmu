==11168== Memcheck, a memory error detector
==11168== Copyright (C) 2002-2015, and GNU GPL'd, by Julian Seward et al.
==11168== Using Valgrind-3.11.0 and LibVEX; rerun with -h for copyright info
==11168== Command: emulator/bin/casioemu models/fx570esplus/
==11168== 
--11168-- WARNING: Serious error when reading debug info
--11168-- When reading debug info from /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0:
--11168-- Ignoring non-Dwarf2/3/4 block in .debug_info
--11168-- WARNING: Serious error when reading debug info
--11168-- When reading debug info from /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0:
--11168-- Last block truncated in .debug_info; ignoring
--11168-- WARNING: Serious error when reading debug info
--11168-- When reading debug info from /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0:
--11168-- parse_CU_Header: is neither DWARF2 nor DWARF3 nor DWARF4
==11168== Syscall param writev(vector[...]) points to uninitialised byte(s)
==11168==    at 0x5E5FFA0: __writev_nocancel (syscall-template.S:84)
==11168==    by 0x9BB6F28: ??? (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==11168==    by 0x9BB731C: ??? (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==11168==    by 0x9BB73A4: xcb_writev (in /usr/lib/x86_64-linux-gnu/libxcb.so.1.1.0)
==11168==    by 0x6DD74AD: _XSend (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x6DD79A1: _XReply (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x6DC259E: XInternAtom (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x4EF9AEA: SetWindowBordered (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EFA8F1: X11_CreateWindow (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC148: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBF34: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==  Address 0xcd812b3 is 35 bytes inside a block of size 16,384 alloc'd
==11168==    at 0x4C2FB55: calloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==11168==    by 0x6DC7692: XOpenDisplay (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x4EF8DB4: X11_CreateDevice (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBEE0: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x40FCCD: casioemu::Emulator::Emulator(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, unsigned int, bool) (Emulator.cpp:24)
==11168==    by 0x403D43: main (casioemu.cpp:52)
==11168== 
==11168== Syscall param sendmsg(msg.msg_iov[0]) points to uninitialised byte(s)
==11168==    at 0x55B7A50: __sendmsg_nocancel (syscall-template.S:84)
==11168==    by 0xD825726: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD821B88: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7B9BED: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xECD6365: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xECCEAE3: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xECD0742: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xECD0F43: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xD80E989: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xECCD3B3: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xECCDD18: ??? (in /usr/lib/nvidia-375/libnvidia-glcore.so.375.82)
==11168==    by 0xD7B9E95: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==  Address 0xffefff28c is on thread 1's stack
==11168== 
==11168== Thread 2 SDLTimer:
==11168== Invalid write of size 1
==11168==    at 0x40B6F8: casioemu::CPU::Register<unsigned char>::operator unsigned char() (CPU.hpp:39)
==11168==    by 0x40C5CF: casioemu::CPU::OP_LS_R() (CPULoadStore.cpp:17)
==11168==    by 0x40E412: casioemu::CPU::Next() (CPU.cpp:421)
==11168==    by 0x408671: casioemu::Chipset::Tick() (Chipset.cpp:192)
==11168==    by 0x410DCA: casioemu::Emulator::Tick() (Emulator.cpp:176)
==11168==    by 0x410D5F: casioemu::Emulator::TimerCallback() (Emulator.cpp:171)
==11168==    by 0x40FA0C: casioemu::Emulator::Emulator(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, unsigned int, bool)::{lambda(unsigned int, void*)#1}::operator()(unsigned int, void*) const (Emulator.cpp:49)
==11168==    by 0x40FA37: casioemu::Emulator::Emulator(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, unsigned int, bool)::{lambda(unsigned int, void*)#1}::_FUN(unsigned int, void*) (Emulator.cpp:51)
==11168==    by 0x4EB5551: SDL_TimerThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EB509B: SDL_RunThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4F03398: RunThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x55AE6B9: start_thread (pthread_create.c:333)
==11168==  Address 0xcdf3bd0 is 48 bytes inside a block of size 264 free'd
==11168==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==11168==    by 0xD8123DE: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD82B758: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD826101: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7BC94A: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7E94A8: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7DF7CC: glXQueryExtensionsString (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0x4EF7CAE: X11_GL_LoadLibrary (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEA37E: SDL_GL_LoadLibrary_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC28B: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBF34: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==  Block was alloc'd at
==11168==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==11168==    by 0xD8127EC: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD82B707: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD826101: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7BC94A: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7E94A8: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7DF7CC: glXQueryExtensionsString (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0x4EF7CAE: X11_GL_LoadLibrary (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEA37E: SDL_GL_LoadLibrary_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC28B: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBF34: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168== 
==11168== Invalid read of size 2
==11168==    at 0x40B700: casioemu::CPU::Register<unsigned char>::operator unsigned char() (CPU.hpp:40)
==11168==    by 0x40C5CF: casioemu::CPU::OP_LS_R() (CPULoadStore.cpp:17)
==11168==    by 0x40E412: casioemu::CPU::Next() (CPU.cpp:421)
==11168==    by 0x408671: casioemu::Chipset::Tick() (Chipset.cpp:192)
==11168==    by 0x410DCA: casioemu::Emulator::Tick() (Emulator.cpp:176)
==11168==    by 0x410D5F: casioemu::Emulator::TimerCallback() (Emulator.cpp:171)
==11168==    by 0x40FA0C: casioemu::Emulator::Emulator(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, unsigned int, bool)::{lambda(unsigned int, void*)#1}::operator()(unsigned int, void*) const (Emulator.cpp:49)
==11168==    by 0x40FA37: casioemu::Emulator::Emulator(std::__cxx11::basic_string<char, std::char_traits<char>, std::allocator<char> >, unsigned int, unsigned int, bool)::{lambda(unsigned int, void*)#1}::_FUN(unsigned int, void*) (Emulator.cpp:51)
==11168==    by 0x4EB5551: SDL_TimerThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EB509B: SDL_RunThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4F03398: RunThread (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x55AE6B9: start_thread (pthread_create.c:333)
==11168==  Address 0xcdf3bd2 is 50 bytes inside a block of size 264 free'd
==11168==    at 0x4C2EDEB: free (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==11168==    by 0xD8123DE: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD82B758: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD826101: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7BC94A: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7E94A8: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7DF7CC: glXQueryExtensionsString (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0x4EF7CAE: X11_GL_LoadLibrary (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEA37E: SDL_GL_LoadLibrary_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC28B: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBF34: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==  Block was alloc'd at
==11168==    at 0x4C2DB8F: malloc (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)
==11168==    by 0xD8127EC: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD82B707: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD826101: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7BC94A: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7E94A8: ??? (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0xD7DF7CC: glXQueryExtensionsString (in /usr/lib/nvidia-375/libGLX_nvidia.so.375.82)
==11168==    by 0x4EF7CAE: X11_GL_LoadLibrary (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEA37E: SDL_GL_LoadLibrary_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC28B: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEBF34: SDL_VideoInit_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EEC32E: SDL_CreateWindow_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168== 
==11168== Thread 1:
==11168== Invalid read of size 8
==11168==    at 0x6DC6688: XNextEvent (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x4EF1593: X11_DispatchEvent (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EF2907: X11_PumpEvents (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4E832E6: SDL_PumpEvents_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4E83334: SDL_WaitEventTimeout_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x403E7D: main (casioemu.cpp:71)
==11168==  Address 0x100000000006dd94 is not stack'd, malloc'd or (recently) free'd
==11168== 
==11168== 
==11168== Process terminating with default action of signal 11 (SIGSEGV)
==11168==  General Protection Fault
==11168==    at 0x6DC6688: XNextEvent (in /usr/lib/x86_64-linux-gnu/libX11.so.6.3.0)
==11168==    by 0x4EF1593: X11_DispatchEvent (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4EF2907: X11_PumpEvents (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4E832E6: SDL_PumpEvents_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x4E83334: SDL_WaitEventTimeout_REAL (in /usr/lib/x86_64-linux-gnu/libSDL2-2.0.so.0.4.0)
==11168==    by 0x403E7D: main (casioemu.cpp:71)
==11168== 
==11168== HEAP SUMMARY:
==11168==     in use at exit: 8,843,988 bytes in 2,605 blocks
==11168==   total heap usage: 11,330 allocs, 8,725 frees, 604,985,347 bytes allocated
==11168== 
==11168== LEAK SUMMARY:
==11168==    definitely lost: 0 bytes in 0 blocks
==11168==    indirectly lost: 0 bytes in 0 blocks
==11168==      possibly lost: 917,071 bytes in 349 blocks
==11168==    still reachable: 7,926,917 bytes in 2,256 blocks
==11168==                       of which reachable via heuristic:
==11168==                         newarray           : 16 bytes in 1 blocks
==11168==                         multipleinheritance: 104 bytes in 1 blocks
==11168==         suppressed: 0 bytes in 0 blocks
==11168== Rerun with --leak-check=full to see details of leaked memory
==11168== 
==11168== For counts of detected and suppressed errors, rerun with: -v
==11168== Use --track-origins=yes to see where uninitialised values come from
==11168== ERROR SUMMARY: 234 errors from 5 contexts (suppressed: 0 from 0)
